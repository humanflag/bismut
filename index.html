<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>BISMUT</title>

	<style>
		@font-face {
			font-family: 'Separat';
			src: url('fonts/Separat-Bold.woff2') format('woff2');
		}

		html {
			scroll-behavior: smooth;
		}

		body {
			overflow-x: hidden;
		}

		body,
		html {
			margin: 0;
			padding: 0;
			height: 100%;
			background: black;
			font-family: 'Separat', sans-serif;
		}

		.hero {
			height: 100vh;
			width: 100vw;
			position: relative;
			display: flex;
			align-items: center;
			justify-content: center;
			overflow: hidden;
		}

		.logo-container {
			position: relative;
			width: 80vmin;
			height: 80vmin;
		}

		.logo-image {
			position: absolute;
			width: 100%;
			height: 100%;
			animation: spin 10s linear infinite;
			z-index: 1;
		}

		.logo-text {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			font-size: 19vmin;
			color: white;
			text-align: center;
			z-index: 2;
			mix-blend-mode: difference;
		}

		@keyframes spin {
			100% {
				transform: rotate(360deg);
			}
		}

		nav {
			position: fixed;
			top: 2vw;
			left: 2vw;
			z-index: 10;
			mix-blend-mode: difference;
		}

		nav a {
			color: white;
			text-decoration: none;
			font-size: clamp(2rem, 2vw, 3rem);

		}

		.about-section {
			height: 100vh;
			background: linear-gradient(to bottom right, #ffffff, #f7f7f7);
			display: flex;
			align-items: center;
			justify-content: center;
			/* padding: 4vw; */
		}

		.about-wrapper {
			max-width: 900px;
			width: 100%;
			opacity: 0;
			transform: translateY(20px);
			transition: opacity 1s ease, transform 1s ease;
		}

		.about-wrapper.fade-in.visible {
			opacity: 1;
			transform: translateY(0);
		}

		.about-heading {
			font-family: 'Separat', sans-serif;
			font-size: clamp(1.5rem, 3vw, 4rem);
			margin-bottom: 1vw;
			color: #222;
		}

		.about-text {
			font-family: 'Separat', sans-serif;
			font-size: clamp(3rem, 4vw, 5rem);
			line-height: 1.1;
			color: black;
			text-align: center;
			
			
		}
	</style>
</head>

<body>

	<nav>
		<a href="#about">ABOUT</a>
	</nav>

	<section class="hero">
		<div class="logo-container">
			<img class="logo-image" src="img/testing2.svg" alt="Spinning logo" />
			<div class="logo-text">BISMÚT</div>
		</div>
	</section>

	<section id="about" class="about-section">
		<div class="about-wrapper fade-in">
			<h2 class="about-heading"></h2>
			<p class="about-text" data-text="We are Bismút — a creative engine for identity, content, and experimental tech, with art at its core.">
			</p>
				<!-- We are Bismút —<br>
				a creative engine for identity, content, and experimental tech,<br>
				with art at its core. -->
			</p>
		</div>
	</section>



</body>
<script>

function decodeText(el) {
	const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=[]{}|;:,.<>?'.split('');
	const targetText = el.dataset.text;
	let iterations = 0;
	const totalIterations = targetText.length;
	const minBrightness = 80;
	const maxBrightness = 1;

	let startTime = null;

	function easeOutQuad(t) {
		// t goes from 0 to 1
		return t * (2 - t); // Ease in — fast start, slow finish
	}

	function animate(timestamp) {
		if (!startTime) startTime = timestamp;
		const elapsed = timestamp - startTime;

		// Calculate progress from 0 to 1
		const progress = Math.min(elapsed / 650, 1); // total animation ~2s
		const easedProgress = easeOutQuad(progress);

		// Update how many letters should be solved
		iterations = easedProgress * totalIterations;

		const displayed = targetText.split('').map((char, i) => {
			if (
				char === ' ' || char === ',' || char === '.' ||
				char === '-' || char === '—' || char === '\n' ||
				i < iterations
			) {
				return `<span style="color: black;">${targetText[i]}</span>`;
			}

			const randomChar = characters[Math.floor(Math.random() * characters.length)];
			const distanceFromCurrent = i - iterations;
			const progressRatio = Math.min(distanceFromCurrent / (targetText.length - iterations), 1);
			const brightness = Math.round(maxBrightness - progressRatio * (maxBrightness - minBrightness));

			return `<span style="color: hsl(0, 0%, ${brightness}%);">${randomChar}</span>`;
		}).join('');

		el.innerHTML = displayed;

		if (iterations < totalIterations) {
			requestAnimationFrame(animate);
		} else {
			el.textContent = targetText;
		}
	}

	requestAnimationFrame(animate);
}


const observer = new IntersectionObserver((entries) => {
	entries.forEach(entry => {
		if (entry.isIntersecting) {
			entry.target.classList.add('visible');

			const textEl = entry.target.querySelector('.about-text');
			if (textEl && !textEl.classList.contains('decoded')) {
				decodeText(textEl);
				textEl.classList.add('decoded');
			}
		}
	});
}, { threshold: 0.2 });

document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
</script>

</html>